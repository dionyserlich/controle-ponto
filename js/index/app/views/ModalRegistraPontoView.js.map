{"version":3,"sources":["views/ModalRegistraPontoView.js"],"names":["View","ModalRegistraPontoView","elemento","contexto","contentExclusao","idTarget","idRegistro","showContentConfirmacao","addEventListener","e","document","querySelector","visible","style","opacity","zIndex","target","id","attributes","getNamedItem","value","excluirPonto","$","closeModal","textContent","model"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAOA,gB;;;;;;;;;;;;;;;;;;;;;AAEDC,kC;;;AAEF,gDAAYC,QAAZ,EAAsBC,QAAtB,EAAgC;AAAA;;AAAA,gKAEtBD,QAFsB;;AAG5B,wBAAIE,wBAAJ;AACA,wBAAIC,iBAAJ;AACA,wBAAIC,mBAAJ;AACA,wBAAIC,+BAAJ;;AAEA;AACAL,6BAASM,gBAAT,CAA0B,OAA1B,EAAmC,UAASC,CAAT,EAAY;AAC3CL,0CAAkBM,SAASC,aAAT,CAAuB,4BAAvB,CAAlB;;AAEAJ,iDAAyB,gCAASK,OAAT,EAAkB;AACvC,gCAAIA,OAAJ,EAAa;AACTR,gDAAgBS,KAAhB,CAAsBC,OAAtB,GAAgC,CAAhC;AACAV,gDAAgBS,KAAhB,CAAsBE,MAAtB,GAA+B,CAA/B;AACH,6BAHD,MAGO;AACHX,gDAAgBS,KAAhB,CAAsBC,OAAtB,GAAgC,CAAhC;AACAV,gDAAgBS,KAAhB,CAAsBE,MAAtB,GAA+B,CAAC,CAAhC;AACH;AACJ,yBARD;;AAWAR,+CAAuB,KAAvB;;AAEA;AACAF,mCAAWI,EAAEO,MAAF,CAASC,EAApB;AACA;AACAX,qCAAaI,SAASC,aAAT,CAAuB,sBAAvB,EAA+CO,UAA/C,CAA0DC,YAA1D,CAAuE,aAAvE,EAAsFC,KAAnG;AACA;AACA,4BAAIf,YAAY,iBAAhB,EAAmC;AAC/BE,mDAAuB,KAAvB;AACH;;AAED,4BAAIF,YAAY,iBAAhB,EAAmC;AAC/BE,mDAAuB,KAAvB;AACAJ,qCAASkB,YAAT,CAAsBf,UAAtB;AACAgB,8BAAE,iBAAF,EAAqBC,UAArB;AAEH;;AAED,4BAAIlB,YAAY,kBAAZ,IAAkCI,EAAEO,MAAF,CAASQ,WAAT,IAAwB,QAA9D,EAAwE;AACpE,gCAAIlB,UAAJ,EAAgB;AACZC,uDAAuB,IAAvB;AACH;AACJ;;AAED;AACH,qBAvCD;;AAT4B;AAkD/B;;;;6CAEQkB,K,EAAO;AACZ;AA2BH;;;;cAlFgCzB,I;;+BAqFtBC,sB","file":"views/ModalRegistraPontoView.js","sourcesContent":["import View from './View';\n\nclass ModalRegistraPontoView extends View {\n\n    constructor(elemento, contexto) {\n\n        super(elemento);\n        let contentExclusao;\n        let idTarget;\n        let idRegistro;\n        let showContentConfirmacao\n\n        //event bubbling        \n        elemento.addEventListener('click', function(e) {\n            contentExclusao = document.querySelector('.confirma-exclusao-content');\n\n            showContentConfirmacao = function(visible) {\n                if (visible) {\n                    contentExclusao.style.opacity = 1;\n                    contentExclusao.style.zIndex = 2;\n                } else {\n                    contentExclusao.style.opacity = 0;\n                    contentExclusao.style.zIndex = -1;\n                }\n            }\n\n\n            showContentConfirmacao(false);\n\n            //Pega o ID do target\n            idTarget = e.target.id;\n            //Pega o ID do Registro\n            idRegistro = document.querySelector('.form-cadastro-ponto').attributes.getNamedItem(\"id-registro\").value;\n            //Validação para saber de onde veio o click\n            if (idTarget == 'btn-excluir-nao') {\n                showContentConfirmacao(false);\n            }\n\n            if (idTarget == 'btn-excluir-sim') {\n                showContentConfirmacao(false);\n                contexto.excluirPonto(idRegistro);\n                $('#modal-registro').closeModal();\n\n            }\n\n            if (idTarget == 'btn-deleta-ponto' || e.target.textContent == 'delete') {\n                if (idRegistro) {\n                    showContentConfirmacao(true)\n                }\n            }\n\n            //método para abstrair a visualização do elemento\n        })\n\n    }\n\n    template(model) {\n        return `\n        <div id=\"modal-registro\" class=\"modal modal-fixed-footer\">\n            <h5 class=\"center-align\">Registro de Ponto</h5>\n            <div class=\"modal-container\">\n                <form action=\"#\" class=\"modal-content form-cadastro-ponto\" id-registro=\"\">\n                    <div class=\"input-field\">\n                        <label for=\"\">Data</label>\n                        <input id=\"data_registro\" name=\"data_registro\" type=\"text\" placeholder=\"30/12/1900\" readonly required>\n                    </div>\n                    <div class=\"input-field\">\n                        <label for=\"hora_registro\">Horário</label>\n                        <input oninvalid=\"this.setCustomValidity('Por favor, digitar um valor válido')\" class=\"input-hora\" id=\"hora_registro\" name=\"hora_registro\" type=\"text\" placeholder=\"08:00\" pattern=\"[0-2]\\\\d:[0-5]\\\\d\" required>                        \n                    </div>\n                    <input type=\"submit\" id=\"salva-registro\" style=\"display: none\"></input>\n                </form>\n                <div class=\"salva-deleta modal-footer\">\n                    <button id=\"btn-deleta-ponto\"><i class=\"material-icons center\">delete</i></button>                                        \n                    <label for=\"salva-registro\" id=\"btn-registra-ponto\" class=\"btn-small light-blue darken-4 col s12 btn waves-effect waves-light center\" type=\"submit\" name=\"action\"><i class=\"material-icons center\">done</i></label for=\"\">                                                                                                \n                </div>                \n                    <div class=\"confirma-exclusao-content modal-footer\">\n                        <p>Deseja excluir?</p>\n                        <button id=\"btn-excluir-nao\" class=\"btn btn-small\">Não</button>\n                        <button id=\"btn-excluir-sim\" class=\"btn red lighten-2 btn-small\">Sim</button>\n                    </div>                                                                                                                                                        \n            </div>\n        </div>\n        `\n    }\n}\n\nexport default ModalRegistraPontoView;"],"sourceRoot":"/source/"}